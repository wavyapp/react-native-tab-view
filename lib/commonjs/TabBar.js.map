{"version":3,"names":["React","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_interopRequireDefault","_TabBarItem","_TabBarIndicator","_memoize","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_defineProperty","key","value","_toPropertyKey","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","scheduleInNextFrame","cb","frame","requestAnimationFrame","cancelAnimationFrame","TabBar","Component","constructor","args","layout","width","height","tabWidths","Animated","Value","createRef","undefined","style","tabStyle","StyleSheet","flatten","index","routes","scrollEnabled","flattenedWidth","endsWith","parseFloat","isFinite","length","memoize","getComputedTabWidth","tabBarWidth","layoutWidth","props","state","navigationState","reduce","acc","_","getFlattenedTabWidth","getTabBarWidth","maxDistance","getMaxScrollDistance","scrollValue","Math","max","min","Platform","OS","I18nManager","isRTL","centerDistance","Array","from","total","tabWidth","scrollAmount","normalizeScrollValue","_this$scrollViewRef$c","_this$scrollViewRef$c2","scrollView","scrollViewRef","current","scrollTo","getNode","x","getScrollAmount","animated","_this$cancelNextFrame","nativeEvent","cancelNextFrameCb","setState","maxScrollDistance","multiply","sub","componentDidUpdate","prevProps","prevState","every","resetScroll","componentWillUnmount","_this$cancelNextFrame2","render","position","jumpTo","bounces","getAccessibilityLabel","getAccessible","getLabelText","getTestID","renderBadge","renderIcon","renderLabel","renderTabBarItem","activeColor","inactiveColor","pressColor","pressOpacity","onTabPress","onTabLongPress","labelStyle","indicatorStyle","contentContainerStyle","indicatorContainerStyle","isWidthDynamic","tabBarWidthPercent","translateX","getTranslateX","createElement","View","onLayout","handleLayout","styles","tabBar","pointerEvents","indicatorContainer","transform","renderIndicator","getTabWidth","getMemoizedTabWidthGettter","scroll","ScrollView","horizontal","accessibilityRole","keyboardShouldPersistTaps","alwaysBounceHorizontal","scrollsToTop","showsHorizontalScrollIndicator","automaticallyAdjustContentInsets","overScrollMode","tabContent","container","scrollEventThrottle","onScroll","event","contentOffset","ref","map","route","measuredTabWidths","onPress","defaultPrevented","preventDefault","onLongPress","exports","title","toUpperCase","accessible","accessibilityLabel","testID","create","flex","overflow","select","web","backgroundColor","elevation","shadowColor","shadowOpacity","shadowRadius","hairlineWidth","shadowOffset","zIndex","flexDirection","flexWrap","top","left","right","bottom"],"sources":["TabBar.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  StyleSheet,\n  View,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n  LayoutChangeEvent,\n  I18nManager,\n  Platform,\n} from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport TabBarItem, { Props as TabBarItemProps } from './TabBarItem';\nimport TabBarIndicator, { Props as IndicatorProps } from './TabBarIndicator';\nimport memoize from './memoize';\nimport {\n  Route,\n  Scene,\n  SceneRendererProps,\n  NavigationState,\n  Layout,\n  Event,\n} from './types';\n\nexport type Props<T extends Route> = SceneRendererProps & {\n  navigationState: NavigationState<T>;\n  scrollEnabled?: boolean;\n  bounces?: boolean;\n  activeColor?: string;\n  inactiveColor?: string;\n  pressColor?: string;\n  pressOpacity?: number;\n  getLabelText: (scene: Scene<T>) => string | undefined;\n  getAccessible: (scene: Scene<T>) => boolean | undefined;\n  getAccessibilityLabel: (scene: Scene<T>) => string | undefined;\n  getTestID: (scene: Scene<T>) => string | undefined;\n  renderLabel?: (\n    scene: Scene<T> & {\n      focused: boolean;\n      color: string;\n    }\n  ) => React.ReactNode;\n  renderIcon?: (\n    scene: Scene<T> & {\n      focused: boolean;\n      color: string;\n    }\n  ) => React.ReactNode;\n  renderBadge?: (scene: Scene<T>) => React.ReactNode;\n  renderIndicator: (props: IndicatorProps<T>) => React.ReactNode;\n  renderTabBarItem?: (\n    props: TabBarItemProps<T> & { key: string }\n  ) => React.ReactElement;\n  onTabPress?: (scene: Scene<T> & Event) => void;\n  onTabLongPress?: (scene: Scene<T>) => void;\n  tabStyle?: StyleProp<ViewStyle>;\n  indicatorStyle?: StyleProp<ViewStyle>;\n  indicatorContainerStyle?: StyleProp<ViewStyle>;\n  labelStyle?: StyleProp<TextStyle>;\n  contentContainerStyle?: StyleProp<ViewStyle>;\n  style?: StyleProp<ViewStyle>;\n};\n\ntype State = {\n  layout: Layout;\n  tabWidths: { [key: string]: number };\n};\n\nconst scheduleInNextFrame = (cb: () => void) => {\n  let frame = requestAnimationFrame(() => {\n    frame = requestAnimationFrame(cb);\n  });\n\n  return () => cancelAnimationFrame(frame);\n};\n\nexport default class TabBar<T extends Route> extends React.Component<\n  Props<T>,\n  State\n> {\n  static defaultProps = {\n    getLabelText: ({ route }: Scene<Route>) =>\n      typeof route.title === 'string' ? route.title.toUpperCase() : route.title,\n    getAccessible: ({ route }: Scene<Route>) =>\n      typeof route.accessible !== 'undefined' ? route.accessible : true,\n    getAccessibilityLabel: ({ route }: Scene<Route>) =>\n      typeof route.accessibilityLabel === 'string'\n        ? route.accessibilityLabel\n        : typeof route.title === 'string'\n        ? route.title\n        : undefined,\n    getTestID: ({ route }: Scene<Route>) => route.testID,\n    renderIndicator: (props: IndicatorProps<Route>) => (\n      <TabBarIndicator {...props} />\n    ),\n  };\n\n  state: State = {\n    layout: { width: 0, height: 0 },\n    tabWidths: {},\n  };\n\n  componentDidUpdate(prevProps: Props<T>, prevState: State) {\n    const { navigationState } = this.props;\n    const { layout, tabWidths } = this.state;\n\n    if (\n      prevProps.navigationState.routes.length !==\n        navigationState.routes.length ||\n      prevProps.navigationState.index !== navigationState.index ||\n      prevState.layout.width !== layout.width ||\n      prevState.tabWidths !== tabWidths\n    ) {\n      if (\n        this.getFlattenedTabWidth(this.props.tabStyle) === 'auto' &&\n        !(\n          layout.width &&\n          navigationState.routes.every(\n            (r) => typeof tabWidths[r.key] === 'number'\n          )\n        )\n      ) {\n        // When tab width is dynamic, only adjust the scroll once we have all tab widths and layout\n        return;\n      }\n\n      this.resetScroll(navigationState.index);\n    }\n  }\n\n  componentWillUnmount() {\n    this.cancelNextFrameCb?.();\n  }\n\n  // to store the layout.width of each tab\n  // when all onLayout's are fired, this would be set in state\n  private measuredTabWidths: { [key: string]: number } = {};\n\n  private scrollAmount = new Animated.Value(0);\n\n  private scrollViewRef = React.createRef<Animated.ScrollView>();\n\n  private cancelNextFrameCb: (() => void) | undefined = undefined;\n\n  private getFlattenedTabWidth = (style: StyleProp<ViewStyle>) => {\n    const tabStyle = StyleSheet.flatten(style);\n\n    return tabStyle ? tabStyle.width : undefined;\n  };\n\n  private getComputedTabWidth = (\n    index: number,\n    layout: Layout,\n    routes: Route[],\n    scrollEnabled: boolean | undefined,\n    tabWidths: { [key: string]: number },\n    flattenedWidth: string | number | undefined\n  ) => {\n    if (flattenedWidth === 'auto') {\n      return tabWidths[routes[index].key] || 0;\n    }\n\n    switch (typeof flattenedWidth) {\n      case 'number':\n        return flattenedWidth;\n      case 'string':\n        if (flattenedWidth.endsWith('%')) {\n          const width = parseFloat(flattenedWidth);\n          if (Number.isFinite(width)) {\n            return layout.width * (width / 100);\n          }\n        }\n    }\n\n    if (scrollEnabled) {\n      return (layout.width / 5) * 2;\n    }\n\n    return layout.width / routes.length;\n  };\n\n  private getMemoizedTabWidthGettter = memoize(\n    (\n      layout: Layout,\n      routes: Route[],\n      scrollEnabled: boolean | undefined,\n      tabWidths: { [key: string]: number },\n      flattenedWidth: string | number | undefined\n    ) => (i: number) =>\n      this.getComputedTabWidth(\n        i,\n        layout,\n        routes,\n        scrollEnabled,\n        tabWidths,\n        flattenedWidth\n      )\n  );\n\n  private getMaxScrollDistance = (tabBarWidth: number, layoutWidth: number) =>\n    tabBarWidth - layoutWidth;\n\n  private getTabBarWidth = (props: Props<T>, state: State) => {\n    const { layout, tabWidths } = state;\n    const { scrollEnabled, tabStyle } = props;\n    const { routes } = props.navigationState;\n\n    return routes.reduce<number>(\n      (acc, _, i) =>\n        acc +\n        this.getComputedTabWidth(\n          i,\n          layout,\n          routes,\n          scrollEnabled,\n          tabWidths,\n          this.getFlattenedTabWidth(tabStyle)\n        ),\n      0\n    );\n  };\n\n  private normalizeScrollValue = (\n    props: Props<T>,\n    state: State,\n    value: number\n  ) => {\n    const { layout } = state;\n    const tabBarWidth = this.getTabBarWidth(props, state);\n    const maxDistance = this.getMaxScrollDistance(tabBarWidth, layout.width);\n    const scrollValue = Math.max(Math.min(value, maxDistance), 0);\n\n    if (Platform.OS === 'android' && I18nManager.isRTL) {\n      // On Android, scroll value is not applied in reverse in RTL\n      // so we need to manually adjust it to apply correct value\n      return maxDistance - scrollValue;\n    }\n\n    return scrollValue;\n  };\n\n  private getScrollAmount = (props: Props<T>, state: State, index: number) => {\n    const { layout, tabWidths } = state;\n    const { scrollEnabled, tabStyle } = props;\n    const { routes } = props.navigationState;\n\n    const centerDistance = Array.from({ length: index + 1 }).reduce<number>(\n      (total, _, i) => {\n        const tabWidth = this.getComputedTabWidth(\n          i,\n          layout,\n          routes,\n          scrollEnabled,\n          tabWidths,\n          this.getFlattenedTabWidth(tabStyle)\n        );\n\n        // To get the current index centered we adjust scroll amount by width of indexes\n        // 0 through (i - 1) and add half the width of current index i\n        return total + (index === i ? tabWidth / 2 : tabWidth);\n      },\n      0\n    );\n\n    const scrollAmount = centerDistance - layout.width / 2;\n\n    return this.normalizeScrollValue(props, state, scrollAmount);\n  };\n\n  private resetScroll = (index: number) => {\n    if (this.props.scrollEnabled) {\n      // getNode() is not necessary in newer versions of React Native\n      const scrollView =\n        // @ts-ignore\n        typeof this.scrollViewRef.current?.scrollTo === 'function'\n          ? this.scrollViewRef.current\n          : this.scrollViewRef.current?.getNode();\n\n      // @ts-ignore\n      scrollView?.scrollTo({\n        x: this.getScrollAmount(this.props, this.state, index),\n        animated: true,\n      });\n    }\n  };\n\n  private handleLayout = (e: LayoutChangeEvent) => {\n    const { height, width } = e.nativeEvent.layout;\n\n    if (\n      this.state.layout.width === width &&\n      this.state.layout.height === height\n    ) {\n      return;\n    }\n\n    // If we don't delay this state update, the UI gets stuck in weird state\n    // Maybe an issue in Reanimated?\n    // https://github.com/satya164/react-native-tab-view/issues/877\n    // Cancel any pending callbacks, since we're scheduling a new one\n    this.cancelNextFrameCb?.();\n    this.cancelNextFrameCb = scheduleInNextFrame(() =>\n      this.setState({\n        layout: {\n          height,\n          width,\n        },\n      })\n    );\n  };\n\n  private getTranslateX = memoize(\n    (scrollAmount: Animated.Node<number>, maxScrollDistance: number) =>\n      Animated.multiply(\n        Platform.OS === 'android' && I18nManager.isRTL\n          ? Animated.sub(maxScrollDistance, scrollAmount)\n          : scrollAmount,\n        I18nManager.isRTL ? 1 : -1\n      )\n  );\n\n  render() {\n    const {\n      position,\n      navigationState,\n      jumpTo,\n      scrollEnabled,\n      bounces,\n      getAccessibilityLabel,\n      getAccessible,\n      getLabelText,\n      getTestID,\n      renderBadge,\n      renderIcon,\n      renderLabel,\n      renderTabBarItem,\n      activeColor,\n      inactiveColor,\n      pressColor,\n      pressOpacity,\n      onTabPress,\n      onTabLongPress,\n      tabStyle,\n      labelStyle,\n      indicatorStyle,\n      contentContainerStyle,\n      style,\n      indicatorContainerStyle,\n    } = this.props;\n    const { layout, tabWidths } = this.state;\n    const { routes } = navigationState;\n\n    const isWidthDynamic = this.getFlattenedTabWidth(tabStyle) === 'auto';\n    const tabBarWidth = this.getTabBarWidth(this.props, this.state);\n    const tabBarWidthPercent = `${routes.length * 40}%`;\n    const translateX = this.getTranslateX(\n      this.scrollAmount,\n      this.getMaxScrollDistance(tabBarWidth, layout.width)\n    );\n\n    return (\n      <Animated.View\n        onLayout={this.handleLayout}\n        style={[styles.tabBar, style]}\n      >\n        <Animated.View\n          pointerEvents=\"none\"\n          style={[\n            styles.indicatorContainer,\n            scrollEnabled ? { transform: [{ translateX }] as any } : null,\n            tabBarWidth\n              ? { width: tabBarWidth }\n              : scrollEnabled\n              ? { width: tabBarWidthPercent }\n              : null,\n            indicatorContainerStyle,\n          ]}\n        >\n          {this.props.renderIndicator({\n            position,\n            layout,\n            navigationState,\n            jumpTo,\n            width: isWidthDynamic ? 'auto' : `${100 / routes.length}%`,\n            style: indicatorStyle,\n            getTabWidth: this.getMemoizedTabWidthGettter(\n              layout,\n              routes,\n              scrollEnabled,\n              tabWidths,\n              this.getFlattenedTabWidth(tabStyle)\n            ),\n          })}\n        </Animated.View>\n        <View style={styles.scroll}>\n          <Animated.ScrollView\n            horizontal\n            accessibilityRole=\"tablist\"\n            keyboardShouldPersistTaps=\"handled\"\n            scrollEnabled={scrollEnabled}\n            bounces={bounces}\n            alwaysBounceHorizontal={false}\n            scrollsToTop={false}\n            showsHorizontalScrollIndicator={false}\n            automaticallyAdjustContentInsets={false}\n            overScrollMode=\"never\"\n            contentContainerStyle={[\n              styles.tabContent,\n              scrollEnabled\n                ? { width: tabBarWidth || tabBarWidthPercent }\n                : styles.container,\n              contentContainerStyle,\n            ]}\n            scrollEventThrottle={16}\n            onScroll={Animated.event([\n              {\n                nativeEvent: {\n                  contentOffset: { x: this.scrollAmount },\n                },\n              },\n            ])}\n            ref={this.scrollViewRef}\n          >\n            {routes.map((route: T) => {\n              const props: TabBarItemProps<T> & { key: string } = {\n                key: route.key,\n                position: position,\n                route: route,\n                navigationState: navigationState,\n                getAccessibilityLabel: getAccessibilityLabel,\n                getAccessible: getAccessible,\n                getLabelText: getLabelText,\n                getTestID: getTestID,\n                renderBadge: renderBadge,\n                renderIcon: renderIcon,\n                renderLabel: renderLabel,\n                activeColor: activeColor,\n                inactiveColor: inactiveColor,\n                pressColor: pressColor,\n                pressOpacity: pressOpacity,\n                onLayout: isWidthDynamic\n                  ? (e) => {\n                      this.measuredTabWidths[route.key] =\n                        e.nativeEvent.layout.width;\n\n                      // When we have measured widths for all of the tabs, we should updates the state\n                      // We avoid doing separate setState for each layout since it triggers multiple renders and slows down app\n                      if (\n                        routes.every(\n                          (r) =>\n                            typeof this.measuredTabWidths[r.key] === 'number'\n                        )\n                      ) {\n                        this.setState({\n                          tabWidths: { ...this.measuredTabWidths },\n                        });\n                      }\n                    }\n                  : undefined,\n                onPress: () => {\n                  const event: Scene<T> & Event = {\n                    route,\n                    defaultPrevented: false,\n                    preventDefault: () => {\n                      event.defaultPrevented = true;\n                    },\n                  };\n\n                  onTabPress?.(event);\n\n                  if (event.defaultPrevented) {\n                    return;\n                  }\n\n                  this.props.jumpTo(route.key);\n                },\n                onLongPress: () => onTabLongPress?.({ route }),\n                labelStyle: labelStyle,\n                style: tabStyle,\n              };\n\n              return renderTabBarItem ? (\n                renderTabBarItem(props)\n              ) : (\n                <TabBarItem {...props} />\n              );\n            })}\n          </Animated.ScrollView>\n        </View>\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    overflow: Platform.select({ default: 'scroll', web: undefined }),\n  },\n  tabBar: {\n    backgroundColor: '#2196f3',\n    elevation: 4,\n    shadowColor: 'black',\n    shadowOpacity: 0.1,\n    shadowRadius: StyleSheet.hairlineWidth,\n    shadowOffset: {\n      height: StyleSheet.hairlineWidth,\n      width: 0,\n    },\n    zIndex: 1,\n  },\n  tabContent: {\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n  },\n  indicatorContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n});\n"],"mappings":"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","ignoreList":[]}