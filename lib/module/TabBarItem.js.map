{"version":3,"names":["React","StyleSheet","View","TouchableItem","Animated","memoize","AnimatedInterpolate","interpolateNode","interpolate","DEFAULT_ACTIVE_COLOR","DEFAULT_INACTIVE_COLOR","TabBarItem","Component","constructor","args","_defineProperty","position","routes","tabIndex","length","inputRange","map","_","i","outputRange","render","route","navigationState","renderLabel","renderLabelPassed","renderIcon","renderBadge","getLabelText","getTestID","getAccessibilityLabel","getAccessible","activeColor","inactiveColor","pressColor","pressOpacity","labelStyle","style","onLayout","onPress","onLongPress","props","indexOf","isFocused","index","activeOpacity","getActiveOpacity","inactiveOpacity","getInactiveOpacity","icon","label","activeIcon","focused","color","inactiveIcon","createElement","styles","opacity","absoluteFill","undefined","labelText","Text","marginTop","activeLabel","inactiveLabel","tabStyle","flatten","isWidthSet","width","tabContainerStyle","flex","scene","accessibilityLabel","badge","borderless","testID","accessible","accessibilityTraits","accessibilityComponentType","accessibilityRole","accessibilityState","selected","accessibilityStates","delayPressIn","pointerEvents","item","create","margin","backgroundColor","alignItems","justifyContent","padding","minHeight","top","right"],"sources":["TabBarItem.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  StyleSheet,\n  View,\n  StyleProp,\n  LayoutChangeEvent,\n  TextStyle,\n  ViewStyle,\n} from 'react-native';\nimport TouchableItem from './TouchableItem';\nimport { Scene, Route, NavigationState } from './types';\nimport Animated from 'react-native-reanimated';\nimport memoize from './memoize';\n\n// @ts-ignore\nconst AnimatedInterpolate = Animated.interpolateNode || Animated.interpolate;\n\nexport type Props<T extends Route> = {\n  position: Animated.Node<number>;\n  route: T;\n  navigationState: NavigationState<T>;\n  activeColor?: string;\n  inactiveColor?: string;\n  pressColor?: string;\n  pressOpacity?: number;\n  getLabelText: (scene: Scene<T>) => string | undefined;\n  getAccessible: (scene: Scene<T>) => boolean | undefined;\n  getAccessibilityLabel: (scene: Scene<T>) => string | undefined;\n  getTestID: (scene: Scene<T>) => string | undefined;\n  renderLabel?: (scene: {\n    route: T;\n    focused: boolean;\n    color: string;\n  }) => React.ReactNode;\n  renderIcon?: (scene: {\n    route: T;\n    focused: boolean;\n    color: string;\n  }) => React.ReactNode;\n  renderBadge?: (scene: Scene<T>) => React.ReactNode;\n  onLayout?: (event: LayoutChangeEvent) => void;\n  onPress: () => void;\n  onLongPress: () => void;\n  labelStyle?: StyleProp<TextStyle>;\n  style: StyleProp<ViewStyle>;\n};\n\nconst DEFAULT_ACTIVE_COLOR = 'rgba(255, 255, 255, 1)';\nconst DEFAULT_INACTIVE_COLOR = 'rgba(255, 255, 255, 0.7)';\n\nexport default class TabBarItem<T extends Route> extends React.Component<\n  Props<T>\n> {\n  private getActiveOpacity = memoize(\n    (position: Animated.Node<number>, routes: Route[], tabIndex: number) => {\n      if (routes.length > 1) {\n        const inputRange = routes.map((_, i) => i);\n\n        return AnimatedInterpolate(position, {\n          inputRange,\n          outputRange: inputRange.map((i) => (i === tabIndex ? 1 : 0)),\n        });\n      } else {\n        return 1;\n      }\n    }\n  );\n\n  private getInactiveOpacity = memoize((position, routes, tabIndex) => {\n    if (routes.length > 1) {\n      const inputRange = routes.map((_: Route, i: number) => i);\n\n      return AnimatedInterpolate(position, {\n        inputRange,\n        outputRange: inputRange.map((i: number) => (i === tabIndex ? 0 : 1)),\n      });\n    } else {\n      return 0;\n    }\n  });\n\n  render() {\n    const {\n      route,\n      position,\n      navigationState,\n      renderLabel: renderLabelPassed,\n      renderIcon,\n      renderBadge,\n      getLabelText,\n      getTestID,\n      getAccessibilityLabel,\n      getAccessible,\n      activeColor = DEFAULT_ACTIVE_COLOR,\n      inactiveColor = DEFAULT_INACTIVE_COLOR,\n      pressColor,\n      pressOpacity,\n      labelStyle,\n      style,\n      onLayout,\n      onPress,\n      onLongPress,\n    } = this.props;\n\n    const tabIndex = navigationState.routes.indexOf(route);\n    const isFocused = navigationState.index === tabIndex;\n\n    const activeOpacity = this.getActiveOpacity(\n      position,\n      navigationState.routes,\n      tabIndex\n    );\n    const inactiveOpacity = this.getInactiveOpacity(\n      position,\n      navigationState.routes,\n      tabIndex\n    );\n\n    let icon: React.ReactNode | null = null;\n    let label: React.ReactNode | null = null;\n\n    if (renderIcon) {\n      const activeIcon = renderIcon({\n        route,\n        focused: true,\n        color: activeColor,\n      });\n      const inactiveIcon = renderIcon({\n        route,\n        focused: false,\n        color: inactiveColor,\n      });\n\n      if (inactiveIcon != null && activeIcon != null) {\n        icon = (\n          <View style={styles.icon}>\n            <Animated.View style={{ opacity: inactiveOpacity }}>\n              {inactiveIcon}\n            </Animated.View>\n            <Animated.View\n              style={[StyleSheet.absoluteFill, { opacity: activeOpacity }]}\n            >\n              {activeIcon}\n            </Animated.View>\n          </View>\n        );\n      }\n    }\n\n    const renderLabel =\n      renderLabelPassed !== undefined\n        ? renderLabelPassed\n        : ({ route, color }: { route: T; color: string }) => {\n            const labelText = getLabelText({ route });\n\n            if (typeof labelText === 'string') {\n              return (\n                <Animated.Text\n                  style={[\n                    styles.label,\n                    icon ? { marginTop: 0 } : null,\n                    labelStyle,\n                    { color },\n                  ]}\n                >\n                  {labelText}\n                </Animated.Text>\n              );\n            }\n\n            return labelText;\n          };\n\n    if (renderLabel) {\n      const activeLabel = renderLabel({\n        route,\n        focused: true,\n        color: activeColor,\n      });\n      const inactiveLabel = renderLabel({\n        route,\n        focused: false,\n        color: inactiveColor,\n      });\n\n      label = (\n        <View>\n          <Animated.View style={{ opacity: inactiveOpacity }}>\n            {inactiveLabel}\n          </Animated.View>\n          <Animated.View\n            style={[StyleSheet.absoluteFill, { opacity: activeOpacity }]}\n          >\n            {activeLabel}\n          </Animated.View>\n        </View>\n      );\n    }\n\n    const tabStyle = StyleSheet.flatten(style);\n    const isWidthSet = tabStyle?.width !== undefined;\n    const tabContainerStyle: ViewStyle | null = isWidthSet ? null : { flex: 1 };\n\n    const scene = { route };\n\n    let accessibilityLabel = getAccessibilityLabel(scene);\n\n    accessibilityLabel =\n      typeof accessibilityLabel !== 'undefined'\n        ? accessibilityLabel\n        : getLabelText(scene);\n\n    const badge = renderBadge ? renderBadge(scene) : null;\n\n    return (\n      <TouchableItem\n        borderless\n        testID={getTestID(scene)}\n        accessible={getAccessible(scene)}\n        accessibilityLabel={accessibilityLabel}\n        accessibilityTraits={isFocused ? ['button', 'selected'] : 'button'}\n        accessibilityComponentType=\"button\"\n        accessibilityRole=\"tab\"\n        accessibilityState={{ selected: isFocused }}\n        // @ts-ignore: this is to support older React Native versions\n        accessibilityStates={isFocused ? ['selected'] : []}\n        pressColor={pressColor}\n        pressOpacity={pressOpacity}\n        delayPressIn={0}\n        onLayout={onLayout}\n        onPress={onPress}\n        onLongPress={onLongPress}\n        style={tabContainerStyle}\n      >\n        <View pointerEvents=\"none\" style={[styles.item, tabStyle]}>\n          {icon}\n          {label}\n          {badge != null ? <View style={styles.badge}>{badge}</View> : null}\n        </View>\n      </TouchableItem>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  label: {\n    margin: 4,\n    backgroundColor: 'transparent',\n  },\n  icon: {\n    margin: 2,\n  },\n  item: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 10,\n    minHeight: 48,\n  },\n  badge: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n  },\n});\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SACEC,UAAU,EACVC,IAAI,QAKC,cAAc;AACrB,OAAOC,aAAa,MAAM,iBAAiB;AAE3C,OAAOC,QAAQ,MAAM,yBAAyB;AAC9C,OAAOC,OAAO,MAAM,WAAW;;AAE/B;AACA,MAAMC,mBAAmB,GAAGF,QAAQ,CAACG,eAAe,IAAIH,QAAQ,CAACI,WAAW;AAgC5E,MAAMC,oBAAoB,GAAG,wBAAwB;AACrD,MAAMC,sBAAsB,GAAG,0BAA0B;AAEzD,eAAe,MAAMC,UAAU,SAA0BX,KAAK,CAACY,SAAS,CAEtE;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAAC,eAAA,2BAC2BV,OAAO,CAChC,CAACW,QAA+B,EAAEC,MAAe,EAAEC,QAAgB,KAAK;MACtE,IAAID,MAAM,CAACE,MAAM,GAAG,CAAC,EAAE;QACrB,MAAMC,UAAU,GAAGH,MAAM,CAACI,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC;QAE1C,OAAOjB,mBAAmB,CAACU,QAAQ,EAAE;UACnCI,UAAU;UACVI,WAAW,EAAEJ,UAAU,CAACC,GAAG,CAAEE,CAAC,IAAMA,CAAC,KAAKL,QAAQ,GAAG,CAAC,GAAG,CAAE;QAC7D,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,OAAO,CAAC;MACV;IACF,CACF,CAAC;IAAAH,eAAA,6BAE4BV,OAAO,CAAC,CAACW,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,KAAK;MACnE,IAAID,MAAM,CAACE,MAAM,GAAG,CAAC,EAAE;QACrB,MAAMC,UAAU,GAAGH,MAAM,CAACI,GAAG,CAAC,CAACC,CAAQ,EAAEC,CAAS,KAAKA,CAAC,CAAC;QAEzD,OAAOjB,mBAAmB,CAACU,QAAQ,EAAE;UACnCI,UAAU;UACVI,WAAW,EAAEJ,UAAU,CAACC,GAAG,CAAEE,CAAS,IAAMA,CAAC,KAAKL,QAAQ,GAAG,CAAC,GAAG,CAAE;QACrE,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,OAAO,CAAC;MACV;IACF,CAAC,CAAC;EAAA;EAEFO,MAAMA,CAAA,EAAG;IACP,MAAM;MACJC,KAAK;MACLV,QAAQ;MACRW,eAAe;MACfC,WAAW,EAAEC,iBAAiB;MAC9BC,UAAU;MACVC,WAAW;MACXC,YAAY;MACZC,SAAS;MACTC,qBAAqB;MACrBC,aAAa;MACbC,WAAW,GAAG3B,oBAAoB;MAClC4B,aAAa,GAAG3B,sBAAsB;MACtC4B,UAAU;MACVC,YAAY;MACZC,UAAU;MACVC,KAAK;MACLC,QAAQ;MACRC,OAAO;MACPC;IACF,CAAC,GAAG,IAAI,CAACC,KAAK;IAEd,MAAM3B,QAAQ,GAAGS,eAAe,CAACV,MAAM,CAAC6B,OAAO,CAACpB,KAAK,CAAC;IACtD,MAAMqB,SAAS,GAAGpB,eAAe,CAACqB,KAAK,KAAK9B,QAAQ;IAEpD,MAAM+B,aAAa,GAAG,IAAI,CAACC,gBAAgB,CACzClC,QAAQ,EACRW,eAAe,CAACV,MAAM,EACtBC,QACF,CAAC;IACD,MAAMiC,eAAe,GAAG,IAAI,CAACC,kBAAkB,CAC7CpC,QAAQ,EACRW,eAAe,CAACV,MAAM,EACtBC,QACF,CAAC;IAED,IAAImC,IAA4B,GAAG,IAAI;IACvC,IAAIC,KAA6B,GAAG,IAAI;IAExC,IAAIxB,UAAU,EAAE;MACd,MAAMyB,UAAU,GAAGzB,UAAU,CAAC;QAC5BJ,KAAK;QACL8B,OAAO,EAAE,IAAI;QACbC,KAAK,EAAErB;MACT,CAAC,CAAC;MACF,MAAMsB,YAAY,GAAG5B,UAAU,CAAC;QAC9BJ,KAAK;QACL8B,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEpB;MACT,CAAC,CAAC;MAEF,IAAIqB,YAAY,IAAI,IAAI,IAAIH,UAAU,IAAI,IAAI,EAAE;QAC9CF,IAAI,gBACFrD,KAAA,CAAA2D,aAAA,CAACzD,IAAI;UAACuC,KAAK,EAAEmB,MAAM,CAACP;QAAK,gBACvBrD,KAAA,CAAA2D,aAAA,CAACvD,QAAQ,CAACF,IAAI;UAACuC,KAAK,EAAE;YAAEoB,OAAO,EAAEV;UAAgB;QAAE,GAChDO,YACY,CAAC,eAChB1D,KAAA,CAAA2D,aAAA,CAACvD,QAAQ,CAACF,IAAI;UACZuC,KAAK,EAAE,CAACxC,UAAU,CAAC6D,YAAY,EAAE;YAAED,OAAO,EAAEZ;UAAc,CAAC;QAAE,GAE5DM,UACY,CACX,CACP;MACH;IACF;IAEA,MAAM3B,WAAW,GACfC,iBAAiB,KAAKkC,SAAS,GAC3BlC,iBAAiB,GACjB,CAAC;MAAEH,KAAK;MAAE+B;IAAmC,CAAC,KAAK;MACjD,MAAMO,SAAS,GAAGhC,YAAY,CAAC;QAAEN;MAAM,CAAC,CAAC;MAEzC,IAAI,OAAOsC,SAAS,KAAK,QAAQ,EAAE;QACjC,oBACEhE,KAAA,CAAA2D,aAAA,CAACvD,QAAQ,CAAC6D,IAAI;UACZxB,KAAK,EAAE,CACLmB,MAAM,CAACN,KAAK,EACZD,IAAI,GAAG;YAAEa,SAAS,EAAE;UAAE,CAAC,GAAG,IAAI,EAC9B1B,UAAU,EACV;YAAEiB;UAAM,CAAC;QACT,GAEDO,SACY,CAAC;MAEpB;MAEA,OAAOA,SAAS;IAClB,CAAC;IAEP,IAAIpC,WAAW,EAAE;MACf,MAAMuC,WAAW,GAAGvC,WAAW,CAAC;QAC9BF,KAAK;QACL8B,OAAO,EAAE,IAAI;QACbC,KAAK,EAAErB;MACT,CAAC,CAAC;MACF,MAAMgC,aAAa,GAAGxC,WAAW,CAAC;QAChCF,KAAK;QACL8B,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEpB;MACT,CAAC,CAAC;MAEFiB,KAAK,gBACHtD,KAAA,CAAA2D,aAAA,CAACzD,IAAI,qBACHF,KAAA,CAAA2D,aAAA,CAACvD,QAAQ,CAACF,IAAI;QAACuC,KAAK,EAAE;UAAEoB,OAAO,EAAEV;QAAgB;MAAE,GAChDiB,aACY,CAAC,eAChBpE,KAAA,CAAA2D,aAAA,CAACvD,QAAQ,CAACF,IAAI;QACZuC,KAAK,EAAE,CAACxC,UAAU,CAAC6D,YAAY,EAAE;UAAED,OAAO,EAAEZ;QAAc,CAAC;MAAE,GAE5DkB,WACY,CACX,CACP;IACH;IAEA,MAAME,QAAQ,GAAGpE,UAAU,CAACqE,OAAO,CAAC7B,KAAK,CAAC;IAC1C,MAAM8B,UAAU,GAAG,CAAAF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,KAAK,MAAKT,SAAS;IAChD,MAAMU,iBAAmC,GAAGF,UAAU,GAAG,IAAI,GAAG;MAAEG,IAAI,EAAE;IAAE,CAAC;IAE3E,MAAMC,KAAK,GAAG;MAAEjD;IAAM,CAAC;IAEvB,IAAIkD,kBAAkB,GAAG1C,qBAAqB,CAACyC,KAAK,CAAC;IAErDC,kBAAkB,GAChB,OAAOA,kBAAkB,KAAK,WAAW,GACrCA,kBAAkB,GAClB5C,YAAY,CAAC2C,KAAK,CAAC;IAEzB,MAAME,KAAK,GAAG9C,WAAW,GAAGA,WAAW,CAAC4C,KAAK,CAAC,GAAG,IAAI;IAErD,oBACE3E,KAAA,CAAA2D,aAAA,CAACxD,aAAa;MACZ2E,UAAU;MACVC,MAAM,EAAE9C,SAAS,CAAC0C,KAAK,CAAE;MACzBK,UAAU,EAAE7C,aAAa,CAACwC,KAAK,CAAE;MACjCC,kBAAkB,EAAEA,kBAAmB;MACvCK,mBAAmB,EAAElC,SAAS,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,GAAG,QAAS;MACnEmC,0BAA0B,EAAC,QAAQ;MACnCC,iBAAiB,EAAC,KAAK;MACvBC,kBAAkB,EAAE;QAAEC,QAAQ,EAAEtC;MAAU;MAC1C;MAAA;MACAuC,mBAAmB,EAAEvC,SAAS,GAAG,CAAC,UAAU,CAAC,GAAG,EAAG;MACnDT,UAAU,EAAEA,UAAW;MACvBC,YAAY,EAAEA,YAAa;MAC3BgD,YAAY,EAAE,CAAE;MAChB7C,QAAQ,EAAEA,QAAS;MACnBC,OAAO,EAAEA,OAAQ;MACjBC,WAAW,EAAEA,WAAY;MACzBH,KAAK,EAAEgC;IAAkB,gBAEzBzE,KAAA,CAAA2D,aAAA,CAACzD,IAAI;MAACsF,aAAa,EAAC,MAAM;MAAC/C,KAAK,EAAE,CAACmB,MAAM,CAAC6B,IAAI,EAAEpB,QAAQ;IAAE,GACvDhB,IAAI,EACJC,KAAK,EACLuB,KAAK,IAAI,IAAI,gBAAG7E,KAAA,CAAA2D,aAAA,CAACzD,IAAI;MAACuC,KAAK,EAAEmB,MAAM,CAACiB;IAAM,GAAEA,KAAY,CAAC,GAAG,IACzD,CACO,CAAC;EAEpB;AACF;AAEA,MAAMjB,MAAM,GAAG3D,UAAU,CAACyF,MAAM,CAAC;EAC/BpC,KAAK,EAAE;IACLqC,MAAM,EAAE,CAAC;IACTC,eAAe,EAAE;EACnB,CAAC;EACDvC,IAAI,EAAE;IACJsC,MAAM,EAAE;EACV,CAAC;EACDF,IAAI,EAAE;IACJf,IAAI,EAAE,CAAC;IACPmB,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBC,OAAO,EAAE,EAAE;IACXC,SAAS,EAAE;EACb,CAAC;EACDnB,KAAK,EAAE;IACL7D,QAAQ,EAAE,UAAU;IACpBiF,GAAG,EAAE,CAAC;IACNC,KAAK,EAAE;EACT;AACF,CAAC,CAAC","ignoreList":[]}